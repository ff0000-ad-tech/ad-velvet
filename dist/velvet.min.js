!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return console.warn("XMLHttpRequest not supported"),null}function s(e){var t=e.lastIndexOf("."),n=e.lastIndexOf("/")+1;return n>t&&(t=void 0),e.substring(n,t)}function l(e){e=e||"";var t=e.indexOf("?");t>-1&&(e=e.substr(0,t));var n=e.match(/[^\\]*\.(\w+)$/),r=e.match(/image\/(jpeg|jpg|png)/);return n?n[1]:r?r[1]:"unknown"}function c(e){if("string"==typeof e)return e;var t="";for(var n in e)console.log("      prop =",n),t+=n+"="+e[n]+"&";return t.substr(0,t.length-1)}function u(e){var t=e.search(/^\/\//)>-1;if(e.search(/^http/)>-1||t){var n=window.location.href.search(/^https/)>-1||adParams.forceHttps,r=n?"https://":"http://";if(t&&(e=e.replace(/^\/\//,r)),e.search(/.*edgecastcdn/)>-1){e=r+(n?"ne1."+e.match(/w(a|p)c/i)[0]+".":e.match(/w(a|p)c\.[a-z0-9]*\./i)[0])+"edgecastcdn"+e.replace(/.*edgecastcdn/,"")}else if(e.search(/.*paramount\.com/)>-1){var a=n?"paramountdlds-a.akamaihd.net":"downloads.paramount.com";e=r+a+e.replace(/.*paramount\.com/,"")}else e=e.search(/espn\.go\.com/)>-1||e.search(/secure\.espncdn\.com/)>-1?"https://secure.espncdn.com"+e.replace(/^.*\.com/,""):e.replace(/^https?\:\/\//i,r)}return e}function d(e,t){if("string"!=typeof e)return e;switch(t=t||document,e=e.trim(),e[0]){case"#":return t.getElementById(e.slice(1));case".":return t.getElementsByClassName(e.slice(1));case"<":return t.getElementsByTagName(e.slice(1,e.length-1));default:return t.getElementById(e)}}function f(e,t,n,r,a,o,i,s,l,c,u){var d=new CustomEvent(e);return d.mouse={global:{x:t,y:n},local:{x:r,y:a}},d.element={x:o||0,y:i||0},d.distance={x:s||0,y:l||0},d.velocity={x:c||0,y:u||0},d.direction={x:c>0?"right":c<0?"left":null,y:u>0?"down":u<0?"up":null},d}function p(e){return void 0!=ke[e]}function g(){Le||(Le=!0,ke={})}function v(){Le=!1}function m(e,t){e=d(e);var n={};if(arguments.length>2)for(var r=1;r<arguments.length;r+=2)n=Ae.conformCssKeyValue(arguments[r],arguments[r+1]);else n="string"==typeof arguments[1]?Ae.conformCssString(arguments[1],e):Ae.conformCssObject(arguments[1],e);Ae.apply(e,n)}function h(e,t){e=d(e);var n;if("x"==t||"y"==t){var r=e.style[Ae.getDeviceKey("transform")],a=r.replace(/[\s\(\)matrix]/g,"").split(",");n=a.length<6?0:+a["x"==t?4:5]}else{n=window.getComputedStyle(e,null).getPropertyValue(t).replace(/px/,""),isNaN(n)||(n=parseInt(n,10))}return n}function y(e){var t=[],n=[0];for(var r in e)t.push(r),n.push(e[r]+(n[n.length-1]||0));for(var a=100*Math.random().toFixed(2),o=0;o<n.length-1;o++){if(b(a,n[o],n[o+1]))return t[o]}}function b(e,t,n){var r=Math.min(t,n);return e<=Math.max(t,n)&&e>=r}function _(e,t,n){return Math.max(t,Math.min(n,e))}function w(e,t){var n="";for(e<0&&(n="-"),e=e.toString().replace(/\-/,"",e);e.length<t;)e="0"+e;return n+e}function T(e){var t={},n=window.location.href.split("?");if(n.length>1){var r=n[1].split("&");for(var a in r){var o=r[a].split("=");2==o.length&&(t[o[0]]=decodeURIComponent(o[1]))}}return e?t[e]:t}function D(e){Xe=e||Xe}function S(e){for(var t in e)Be[t]=e[t]}function x(e){return Be[e||Xe]}function C(e,t){var e=e.toString(),n=e.slice(e.length-1),r=x(),a=r.TH;switch(n){case"1":"11"!=e&&(a=r.ST);break;case"2":"12"!=e&&(a=r.ND);break;case"3":"13"!=e&&(a=r.RD)}return(t?e:"")+a}function O(e,t,n){n=n||{};var r=n.inTimezone||e.outputTimezone,a=n.language,o=e.getIn(r),i=x(a),s=o.getMonth(),l=o.getHours(),c=o.getMinutes();return t.replace(/\$\{(.*?)\}/g,function(e,t){var n=t,a=0,u=void 0,d=!1,f=!0,p=!0;switch(t.replace(/(.+)(\^)/,function(e,n){t=n,d=!0}),2==t.length&&t.replace(/(?![Yo])([a-zA-Z]).*?\1/,function(e,n){t=n.substr(0,1),u=2}),t){case"YY":a=-2;case"YYYY":n=(""+o.getFullYear()).slice(a);break;case"M":n=s+1;break;case"MMM":n=i.MONTHS_ABRV[s];break;case"MMMM":n=i.MONTHS_FULL[s];break;case"D":n=o.getDate();break;case"o":p=!1;case"Do":n=C(o.getDate(),p);break;case"DDD":n=i.WEEKDAYS_ABRV[o.getDay()];break;case"DDDD":n=i.WEEKDAYS_FULL[o.getDay()];break;case"t":f=!1;case"T":n=l,f||0==(n%=12)&&(n=12),u&&(n+=":"+w(c,2));break;case"H":n=l;break;case"h":n=l%12,0==n&&(n=12);break;case"m":n=c;break;case"s":n=o.getSeconds();break;case"a":n=l>=12?"pm":"am";break;case"z":n=r.abbr[0]}return u&&(n=w(n,u)),d&&"string"==typeof n&&(n=n.toUpperCase()),n})}function E(){return $e}function A(e){Je=k(e);var t=Je.value,n=(new Date).getTimezoneOffset(),r=Math.floor(n/60),a=n%60,o=Math.floor(t),i=t%1*60,s=-(o+r),l=-(i+a);t>0&&(s=24+s),console.log("hr:",r,"min:",a,"| adjHr:",s,"adjMin:",l),$e[0]=s,$e[1]=l,console.log("Timezone.setLocal() ->",Je,e,t,$e)}function k(e,t){var n=e;if("local"==e||void 0==e)n=Je?"string"==typeof Je?Je:Je.label:z(t);else{if("UTC"==e||"UTC"==e.label||"utc"==e)return{label:"UTC",abbr:["utc"],value:0};"trueLocal"==e&&(n=z(t))}if("string"==typeof n){if(n.length<5){var r=M(n);r&&(n=r)}}else n=e.label;var a={},o=He[n];if(o){var i=o.split("|");a.label=n,a.abbr=i[0].split(",");var s=i[1].split(",");if(s.length>1){var l=t||new Date,c=l.getFullYear();c<2018&&(c=2018);var u=n.split("/"),d=F(u[0],c);d||(d=F(u[1],c));var f=d.split(","),p=new Date(c+"-"+f[0]+"T03:00:00"+L(s[1])),g=new Date(c+"-"+f[1]+"T03:00:00"+L(s[0])),v=(I(l,{hour:s[0]}),l.getTime()>p.getTime()&&l.getTime()<g.getTime()),m=v?0:1;a.value=s[m]}else a.value=s[0]}else a.label=n,a.abbr=[n.toLowerCase()],a.value=-(new Date).getTimezoneOffset()/60;return a}function L(e){var t=isNaN(e)?e.value:e,n=t>0?Math.floor(t):Math.ceil(t),r=t%1*60;return r=t>0?Math.floor(r):Math.ceil(r),(t<0?"-":"+")+w(Math.abs(n),2)+":"+w(Math.abs(r),2)}function M(e){var t=void 0,n=e.toLowerCase();for(var r in He){if(He[r].split("|")[0].split(",").indexOf(n)>=0){t=r;break}}return t}function z(e){var t=e||new Date,n=t.toTimeString(),r=n.split("(")[1];return r=r.substr(0,r.length-1),r.replace(/[a-z\.\s]/g,"")}function F(e,t){if("string"==typeof Ge[e]){var n=Ge[e].split("|").map(function(e){return e.split(",").map(function(e){return w(e,2)})});Ge[e]={};var r=n[0],a=n[2];n[1].map(function(t,n){Ge[e][We+n]=r[0]+"-"+t+","+r[1]+"-"+a[n]})}if(Ge[e])return Ge[e][t]}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(console.log("DateManager.init()",e),!et){et=!0;var t=T("date"),n="SYSTEM-DATE";t?(Ze=t,n="EXTERNAL-DATE"):!e.dateOverride||"staging"!=adParams.environmentId&&"debug"!=adParams.environmentId||(Ze=e.dateOverride,n="INTERNAL-DATE");var r=void 0;if(Ze){var a=new q({datetime:Ze});console.log("\t_currentDate set |",a.outputTimezone,"|",a,"|",a.toFullDateTime(),"|",a.outputTimezone),r=a.outputTimezone,console.log("DateManager tz:",r);var o=T("tz");o&&(r=o)}A(r);var i=T("ltz");i&&(adParams.defaultTimezone=i),console.log("-- CURRENT DATE "+Array(104).join("-")),console.log(""),console.log("    DATE-MODE: "+n),console.log(""),console.log("     Time for this unit is now assumed to be: "),console.log("      ",R().toFullDateTime()),console.log(""),i&&(console.log("     External default timezone is: "),console.log("      ",i),console.log("")),console.log(Array(120).join("-")),e.language&&D(e.language)}}function R(){var e=Ze;return void 0==e&&(e=(new Date).toISOString().split(".")[0]+"+00:00"),new q({datetime:e,outputTimezone:k("local")})}function N(e,t){var n=t.getTime()/1e3-e.getTime()/1e3;n<0&&(n=0);for(var r={day:n/86400,hour:n/3600%24,minute:n/60%60,second:n%60,output:""},a=["day","hour","minute","second"],o=0;o<4;o++)r.output+=TextUtils.pad(Math.floor(r[a[o]]),2),o<3&&(r.output+=":");return r}function I(e,t){var n=void 0;n=e._isTzDate?e.clone():new Date(e);for(var r in t){var a=nt[r.toUpperCase()],o=t[r]*a;n.setTime(n.getTime()+o)}return n}function Y(e,t){return void 0==t&&(t=R()),t.getTime()>=e.getTime()}function q(e){e=e||{};var t="local",n=e.datetime;if(Array.isArray(n)){n=e.datetime[0],t=e.datetime[1];if(!n.match(/(\+|\-)([0-9]{2})\:([0-9]{2})/g)){n+=L(k(t))}}"string"==typeof n&&(n=n.replace(/(\T|\s)/g,"T")),e.outputTimezone?t=e.outputTimezone:adParams.defaultTimezone&&(t=adParams.defaultTimezone);var r=new Date(n);return Object.defineProperties(r,{outputTimezone:{get:function(){return t},set:function(e){t=k(e)}}}),r.clone=function(e){return e=e||r.outputTimezone,new q({datetime:r,outputTimezone:e})},r.getHoursIn=function(e,t){var n=r.getIn(e),a=n.getHours();return 1!=t&&a>12&&(a%=12),a},r.format=function(e,t){return O(r,e,t)},r.getIn=function(e){var t=r.toISOString().split(".")[0],n=L(k("trueLocal",r)),a=k(e||r.outputTimezone,r);return I(new Date(t+n),{hour:a.value})},r.print=function(e){var t=r.toFullDateTime(e);return console.log(t),t},r.toFullDateTime=function(e){return e=e||r.outputTimezone,r.getIn(e).toString().split("GMT")[0]+e.label},r.toSimpleDate=function(e){var t=r.getIn(e);return t.getMonth()+1+"/"+t.getDate()},r.toDate=function(e){var t=r.getIn(e);return r.toSimpleDate(e)+"/"+t.getFullYear()},r.toDateTime=function(e){return r.toDate(e)+" "+r.toTime(e)},r.toSimpleDateTime=function(){return r.toSimpleDate()+" "+r.toTime()},r.toTime=function(e){return r.toSimpleTime(e)+" "+r.toMeridiem(e)},r.toSimpleTime=function(e,t){var n=r.getIn(e),a=r.getHoursIn(e,t);return 0!=a||t||(a=12),t&&(a=w(a,2)),a+":"+w(n.getMinutes(),2)},r.toMeridiem=function(e,t){var n=e||r.outputTimezone;return(r.getIn(n).getHours()>=12?"pm":"am")+(1==t?"/"+n.abbr[0]:"")},r.toShortestTime=function(e,t){return r.toSimpleTime(e,t).replace(/:00$/g,"")},r.toDateTimeISO=function(e){var t=r.toDate(e),n=t.split("/");return n[2]+"-"+w(n[0],2)+"-"+w(n[1],2)+"T"+r.toSimpleTime(e,!0)+":00"},r.toISO=function(){return r.toDateTimeISO(r.outputTimezone)+L(r.outputTimezone)},r._isTzDate=!0,r.outputTimezone=t,r}function j(e){e=e||{};var t=this,n=[],r={},a=void 0,o=!1,i=e.callback||function(){},s=e.tonightStartsAt||"17:30",l=0!=e.hasOneDayOf,c=e.eventDuration||120;Object.defineProperties(t,{target:{get:function(){return a}},current:{get:function(){return n[t.currentIndex]}},currentDate:{get:function(){return t.current.date}},currentLabel:{get:function(){return t.current.label}},currentIndex:{get:function(){for(var e=-1,t=0,r=n.length;t<r&&Y(n[t].date);t++)e=t;return e}},next:{get:function(){return n[t.nextIndex]}},nextDate:{get:function(){return t.next.date}},nextLabel:{get:function(){return t.next.label}},nextIndex:{get:function(){return _(t.currentIndex+1,0,n.length-1)}},isLive:{get:function(){return"NOW"==t.current.standardKey}},isComplete:{get:function(){return"PAST"==t.current.standardKey}}}),t.addDate=function(e,i,c){var u=arguments[3],d=e,f=!1,p=!0;if(!e._isTzDate){var g=a;switch(u){case"PAST":p=!1;break;case"TONIGHT":for(var v=a.toDateTimeISO().split("T")[0]+"T",m=s.split(":"),h=0;h<3;h++)v+=w(m[h]||0,2)+":";v=v.slice(0,-1),g=new q({datetime:[v,a.outputTimezone]}),f=g.getTime()>a.getTime(),o=!f,p=l&&o;break;case"TODAY":f=l&&o}p&&(g=a.clone(k("local")),g.setHours.apply(g,E())),d=I(g,e)}var y=i;if(u){var b=r[u];void 0!=b?i=b:"string"==typeof i&&(i=x()[u])}if("function"==typeof i){var _=u&&a?a:d,T=u?"WEEK"==u?y.call(t,_):x()[u]:null;i=i.call(t,_,T)}return f||(n.push({date:d,label:i,standardKey:u,callback:c||function(){}}),n.sort(function(e,t){var n=e.date.getTime(),r=t.date.getTime();return n<r?-1:n>r?1:0})),d},t.print=function(){var e=n.length;console.log("DateSchedule.print(), length:",e);for(var t=0;t<e;t++)console.log(" -",t,n[t].date.toFullDateTime(),"label:",n[t].label)},t.getDates=function(e){e=!!e;for(var t=[],r=0,a=n.length;r<a;r++)t.push(e?n[r]:n[r].date);return t};var u=e.standardOverrides;if(u)for(var d in u)r[d]=u[d];e.target&&(a=t.addDate(e.target,"",i,"NOW"),t.addDate({minute:c},"",i,"PAST")),t.addDate(new q({datetime:"2000-01-01T00:00:00+00:00",outputTimezone:"UTC"}),function(e){return e.toSimpleDateTime()},i,"DATE"),a&&1==e.isStandard&&(t.addDate({},"",i,"TONIGHT"),t.addDate({},"",i,"TODAY"),t.addDate({hour:-24},"",i,"TOMORROW"),t.addDate({hour:-144},function(e){return x().WEEKDAYS_FULL[e.getIn(a.outputTimezone).getDay()]},i,"WEEK"))}function U(e,t){ft[e]||(ft[e]=[]);for(var n=ft[e],r=0,a=n.length;r<a;r++)if(n[r]===t)return;n.push(t)}function K(e,t){var n=ft[e];if(n)for(var r=0,a=n.length;r<a;r++)if(n.handler===t){n.splice(r,1);break}}function X(e){ft[e]&&ft[e].map(function(e){e()})}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("Velvet.init()"),P(t);var n=document.referrer.match(/qa\.velvet\.tech/);n&&console.log("\tis on qa.velvet.tech"),V()?(console.log("\tPreview requested"),pt=n?st:ot):(console.log("\tLive requested"),pt=isQa?it:at),gt=e,pt+=gt.client+"/"+gt.locale+"/",console.log("\tbase url:",pt);var r=T("addata");return r&&(console.log("\t\tAd Data set via query:",r),gt.addata=r),new Promise(function(e,t){vt=e,console.log("\tVelvet.init() Promise"),gt.addata?W():H()})}function V(){var e=window.location.href;return void 0!=e&&null!=e&&("production"!==T("velvet")&&!!(e.match(/^file/)||e.match(/manta\.joyent\.com/)||e.match(/ff0000\.com/)||e.match(/adprodtest/)||e.match(/client\-projects\.com/)||e.match(/[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+:[0-9]+/)))}function H(){new De(pt+gt.segment,{name:"segmentLoader",fileType:"json",onComplete:G,onFail:$}).load()}function W(){new De(pt+gt.addata,{name:"velvetAdDataLoader",fileType:"json",onComplete:J,onFail:$}).load()}function G(e){var t=JSON.parse(e.dataRaw);console.log("Velvet segment Json:\n",t),adParams.defaultTimezone=t.tz,adParams.defaultTimezone&&console.log("\tdefaultTimezone:",adParams.defaultTimezone);var n=t.timeblocks,r=R();console.log("\tnow:",r);var a=void 0;for(a=0;a<n.length;a++){var o=n[a].time;if(console.log("\t\t>",new Date(o)),r<o)break}var i=a-1;if(i<0)return void $();console.log("\tselected timeblock:",n[i]);var s=n[i].ad_rotation;if(gt.addata=y(s),console.log("\tselected ad slug:",gt.addata),"USE_STATIC"===gt.addata)return void X(ut);W()}function J(e){console.log("Velvet.handleAdDataLoadComplete()"),mt=JSON.parse(e.dataRaw),console.log("Velvet Raw addata:\n",mt),vt(),X(lt)}function $(){X(ct)}function Q(e){console.log("Velvet.capture.addSchedule()");for(var t=e.getDates(!0),n=0;n<t.length;n++){var r=t[n],a=r.date,o={date:a.toISO(),tz:a.outputTimezone.abbr[0],ltz:adParams.defaultTimezone,label:r.standardKey};ht.push(o)}}function Z(e){if(console.log("Velvet.capture.addCustomData()"),"object"!==(void 0===e?"undefined":de(e)))throw new Error("Cannot use a primative as data, must be an Object passed to .addCustomData()");ht.push(e)}function ee(){0===ht.length&&ht.push({foo:"bar"}),console.log("Velvet.capture.dispatchData()\n\t",ht),re("setParameters",ht)}function te(){console.log("Velvet.capture.adComplete()"),re("adComplete")}function ne(){console.log("Velvet.capture.adStart()"),re("adStart")}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"function"==typeof window.callExternal&&window.callExternal({event:e,data:t})}function ae(){var e="string"==typeof arguments[0],t=arguments[e?0:1],n=e?mt:arguments[0];bt=!!arguments[e?1:2],_t=[];var r=t.replace(/\.value(\.|)/g,".").replace(/\.$/,"");Dt=r.split("."),Tt=void 0,wt=Dt.pop();for(var a="",o=0;o<Dt.length;o++)o>0&&(a+="."),a+=Dt[o],isNaN(Dt[o])&&(a+=".value");return St=Dt.length>0,St&&(Dt=a.split("."),Tt=Dt.shift(),Dt.push(wt)),oe(n),1==_t.length?(_t=_t[0])&&"object"==(void 0===_t?"undefined":de(_t))&&0==Object.keys(_t).length&&(_t=void 0):0==_t.length&&(_t=void 0),_t}function oe(e){switch(Object.prototype.toString.call(e)){case"[object Object]":ie(e);break;case"[object Array]":se(e)}}function ie(e){for(var t in e)le(e,t)}function se(e){if(St||isNaN(wt))for(var t=0;t<e.length;t++)ie(e[t]);else _t.push(e[wt])}function le(e,t){if(t!=wt||St){if(t==Tt){var n=ue(Dt,e[t]);return void(n&&_t.push(ce(n)))}}else _t.push(ce(e[t]));bt&&oe(e[t])}function ce(e){return e.hasOwnProperty("value")?e.value:e}function ue(e,t){for(var n,r=t||{},a=0;r&&(n=e[a]);a++)r=n in r?r[n]:void 0;return r}var de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pe=function(e){return new ge(e)},ge=function(){function e(t){o(this,e),this.superclass=t}return e.prototype.with=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},this.superclass)},e}(),ve=function(e){return function(e){function t(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];o(this,t);var s=r(this,e.call.apply(e,[this].concat(a))),l=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},c=s;return c.onComplete=l.onComplete||function(){},c.onFail=l.onFail||function(){},c.onProgress=l.onProgress||function(){},c.name=l.name||"",c.scope=l.scope||c,c.dataRaw,c.cacheBuster=l.cacheBuster||!1,c._failCalled=!1,s}return a(t,e),t.prototype._handleFail=function(){var e=this;e._failCalled||(e._failCalled=!0,e.onFail.call(e.scope,e),console.log('Loader "'+e.name+'" Fail:',e.url))},t}(e)},me=function(e){return function(e){function t(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];o(this,t);var c=r(this,e.call.apply(e,[this].concat(a))),d=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},f=c;return f.url=u(arguments[0]||""),d.platformGetUrl&&(f.platformGetUrl=d.platformGetUrl,f.url=d.platformGetUrl(f.url)),f.fileName=void 0===d.id?s(f.url):d.id,f.fileType=d.fileType||l(f.url),c}return a(t,e),t}(e)},he=function(e){return function(e){function t(){o(this,t);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return r(this,e.call.apply(e,[this].concat(a)))}return a(t,e),t.prototype._setTicker=function(e){var t=this,n=document.createElement("div");n.innerHTML=e.content,n.style.cssText=e.css||"",document.body.appendChild(n);var r=void 0!=e.width?e.width:n.offsetWidth;n.style.fontFamily=e.font||"";var a=setTimeout(function(){clearInterval(o),t._handleFail()},5e3),o=setInterval(function(){n.offsetWidth!=r&&(clearTimeout(a),clearInterval(o),t._handleTickerComplete(n))},10)},t.prototype._removeTickerNode=function(e){e.parentNode.removeChild(e)},t}(e)},ye=function e(){o(this,e)},be=function(e){function t(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];o(this,t);var s=r(this,e.call.apply(e,[this].concat(a))),l=arguments&&arguments.length>1?arguments[1]:arguments[0]||{};return s.renderOnly=!!l.renderOnly,s.crossOrigin=l.crossOrigin,s}return a(t,e),t.prototype.load=function(){var e=this;if(e.renderOnly)e._setTicker({content:e.url,width:0});else{var t=new Image;t.id=e.fileName,t.crossOrigin=e.crossOrigin,t.onload=e._handleComplete.bind(e),t.onerror=e._handleFail,t.src=e.url}},t.prototype._handleComplete=function(e){var t=this;t.dataRaw=e.target,t.onComplete.call(t.scope,t)},t}(pe(ye).with(ve,me,he)),_e=function e(){o(this,e)},we=function(e){function t(){o(this,t);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return r(this,e.call.apply(e,[this].concat(a)))}return a(t,e),t.prototype.load=function(){var e=this,t=void 0;t="css"==e.fileType?e._createCssLink():"html"==e.fileType?e._createHtmlLink():e._createScript(),t.charset="utf-8",t.onload=e._handleComplete.bind(e),t.onerror=e._handleFail,"css"==e.fileType||"html"==e.fileType?t.href=this.url:t.src=e.url,document.getElementsByTagName("head")[0].appendChild(t)},t.prototype._createCssLink=function(){var e=document.createElement("link");return e.rel="stylesheet",e.type="text/css",e},t.prototype._createHtmlLink=function(){var e=document.createElement("link");return e.rel="import",e},t.prototype._createScript=function(){var e=document.createElement("script");return e.type="text/javascript",e},t.prototype._handleComplete=function(e){var t=this;t.dataRaw=e.target,t.onComplete.call(t.scope,t)},t}(pe(_e).with(ve,me)),Te=function e(){o(this,e)},De=function(e){function t(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];o(this,t);var s=r(this,e.call.apply(e,[this].concat(a))),l=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},c=s;return c.method=(l.method||"get").toLowerCase(),c.query=l.query||null,c.responseType=l.responseType||null,s}return a(t,e),t.prototype.load=function(){var e=this,t=null,n="post"===e.method;e.req=i(),void 0!=e.responseType&&(e.req.responseType=e.responseType);var r=e.url;switch(e.query&&(t=c(e.query),n||(r+="?"+t,t=null)),e.cacheBuster&&(r+=e.query&&!n?"&":"?",r+="cb="+(new Date).getTime()),e.req.onreadystatechange=e._handleStateChange.bind(e),e.req.open(e.method,r,!0),e.fileType){case"xml":e.req.overrideMimeType&&e.req.overrideMimeType("text/xml");break;case"json":e.req.overrideMimeType&&e.req.overrideMimeType("application/json");break;case"fba":case"bin":case"binary":e.responseType=e.req.responseType="arraybuffer"}"post"===e.method&&e.req.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.req.send(t)},t.prototype._handleStateChange=function(e){var t=this;switch(t.req.readyState){case 3:200==this.req.status&&(t.dataRaw=t.responseType?t.req.response:t.req.responseText,t._handleProgress(t));break;case 4:200==t.req.status?(t.dataRaw=t.responseType?t.req.response:t.req.responseText,t._handleComplete(t)):t._handleFail({target:e})}},t.prototype._handleProgress=function(){var e=this;e.onProgress.call(e.scope,e)},t.prototype._handleComplete=function(){var e=this;e.onComplete.call(e.scope,e)},t}(pe(Te).with(ve,me)),Se=function e(){o(this,e)},xe=function(e){function t(){o(this,t);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return r(this,e.call.apply(e,[this].concat(a)))}return a(t,e),t.prototype.load=function(){var e=this;e.fileName=e.fileName.split(".")[0];var t="@font-face { font-family: "+e.fileName+"; src: url("+e.url+") format('truetype'); }",n=document.getElementById("RED_fontStyleSheet");if(n)n.innerHTML+=t;else{var r=document.createElement("style");r.type="text/css",r.media="screen",r.id="RED_fontStyleSheet",r.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(r)}e._setTicker({content:" !\"\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~",css:"position:absolute; top:-1000px; font-size:100px; font-family:san-serif; font-variant:normal; font-style:normal; font-weight:normal; letter-spacing:0; white-space:nowrap;",font:e.fileName})},t.prototype._handleTickerComplete=function(e){var t=this;setTimeout(function(){t._removeTickerNode(e)},300),t._handleComplete()},t.prototype._handleComplete=function(e){var t=this;t.dataRaw=t.fileName,t.onComplete.call(t.scope,t)},t}(pe(Se).with(ve,me,he)),Ce=function e(){o(this,e)},Oe=(function(e){function t(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];o(this,t);var s=r(this,e.call.apply(e,[this].concat(a))),l=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},c=s;return c._queue={},c._total=0,c._active=!1,c._startedCount=0,c.prepend=l.prepend||"",c.platformGetUrl=l.platformGetUrl,c.fileType=l.fileType||null,c.content=[],c.crossOrigin=l.crossOrigin||void 0,c.add(arguments[0]),s}a(t,e),t.prototype.add=function(e){var n=this;if("string"==typeof e)n._addSingleLoad(e);else if(e instanceof Array)for(var r=0;r<e.length;r++)n._addSingleLoad(e[r]);else e instanceof t&&(e.content&&e.content[0]&&"fba"==e.content[0].fileType?n._addFbaSubLoads(e.content[0]):n._addSubLoad(e))},t.prototype.load=function(){var e=this;if(e._active=!0,e._total<=0)console.log('Loader "'+e.name+'" has NO assets to be loaded.');else{var n=!1,r="";for(var a in e._queue)if(!(e._queue[a]instanceof t)){n||(n=!0,r+='Loader "'+e.name+'" requesting:');var o=e._queue[a].fileName,i=e._queue[a].fileType,s=o.indexOf("."+i),l=s>-1?o:o+"."+i;r+="\n\t -> "+(e._queue[a].prepend||"")+l}n&&console.log(r)}e._startSingleLoad(0)},t.prototype.getAllContent=function(){function e(r){for(var a=0;a<r.length;a++)r[a]instanceof t?e(r[a].content):n.push(r[a])}var n=[];return e(this.content),n.length<1&&console.log("No Content found"),n},t.prototype.getAllContentRaw=function(){for(var e=this.getAllContent(),t=0;t<e.length;t++)e[t]=e[t].dataRaw;return e},t.prototype.getLoader=function(e){function n(a){for(var o=0;o<a.length;o++)a[o]instanceof t&&(!a[o]||a[o].name!==e&&a[o]!==e?n(a[o].content):r=a[o])}var r=null;return n(this.content),r||console.log("No Loader found of that name"),r},t.prototype._addSingleLoad=function(e,t){var n=this,r=t?t[1]:n.fileType||l(e),a=void 0;switch(r){case"jpg":case"jpeg":case"gif":case"png":case"svg":a=be;break;case"ttf":case"woff":a=xe;break;case"json":case"fba":case"bin":case"binary":case"svg+xml":a=De;break;default:a=we}var o=t?e:n.prepend+e,i=new a(o,{scope:n,platformGetUrl:n.platformGetUrl,onComplete:n._handleSingleLoadComplete,onFail:n._handleFail,fileType:r,cacheBuster:n.cacheBuster,crossOrigin:n.crossOrigin});t&&(i.fileName=t[0]),i.queueIndex=n._total,n._queue[n._total]=i,n._total++},t.prototype._addSubLoad=function(e){var t=this;e.onComplete=t._handleSingleLoadComplete.bind(t),e.onProgress=t._handleProgress.bind(t),e.onFail=t._handleFail,e.queueIndex=t._total,t._queue[t._total]=e,t._total++},t.prototype._addFbaSubLoads=function(e){var t=new Uint8Array(4),n=new Uint32Array(t.buffer),r=44,a=new Uint8Array(e.dataRaw,r,1)[0];r+=5;for(var o=0;o<a;o++){for(var i=new Uint8Array(e.dataRaw,r,4),s=4,l=0;l<4;l++)t[--s]=i[l];var c=n[0];r+=7;var u=String.fromCharCode(new Uint8Array(e.dataRaw,r++,1)),d=new Uint8Array(e.dataRaw,r+3,1),f=d[0]||0,p=new Uint8Array(e.dataRaw,r+4,f),g=String.fromCharCode.apply(String,p);f+=4;var v=new Uint8Array(e.dataRaw,r+f,c-f);r+=c+4;var m=g.split("."),h="f"==u?"application/x-font-ttf":"image/"+("svg"==m[1]?"svg+xml":m[1]),y=new Blob([v],{type:h}),b=URL.createObjectURL(y);this._addSingleLoad(b,m)}},t.prototype._startSingleLoad=function(e){var n=this,r=n._queue[e];0==n._total?n._handleComplete():e<n._total&&(r instanceof t||e<n._total-1&&n._startLoadTimeOut(++e),r.load())},t.prototype._startLoadTimeOut=function(e){var t=this;setTimeout(function(){t._startSingleLoad(e)},10)},t.prototype._handleSingleLoadComplete=function(e){var t=this;t.content[e.queueIndex]=e,delete t._queue[e.queueIndex],t._handleProgress(),void 0==e.url&&e.queueIndex<t._total-1&&t._startLoadTimeOut(e.queueIndex+1)},t.prototype._handleProgress=function(){for(var e=this,t=e.content.length,n=0,r=0;r<t;r++)e.content[r]&&n++;var a=n,o=0;n<e._total&&e._queue[n]&&(o=e._queue[n].progress/e._total||0),e.progress=a/e._total+o,e.rawProgress=n/e._total+o,e.onProgress.call(e.scope,e),n>=e._total&&e._handleComplete()},t.prototype._handleComplete=function(){var e=this;e.onComplete.call(e.scope,e)}}(pe(Ce).with(ve)),function(){function e(){o(this,e)}return fe(e,null,[{key:"orientation",get:function(){return window.innerWidth>window.innerHeight?"landscape":"portrait"}},{key:"dimensions",get:function(){return{width:window.innerWidth,height:window.innerHeight}}}]),e}());Oe.pixelRatio=window.devicePixelRatio||"unknown",Oe.init=function(){console.log("Device.init()");var e=this;e.agentString=navigator.userAgent,e._getType(),e._getBrandAndOS(),e._getBrowser(),"desktop"!==e.type&&"windows"===e.os&&e.osVersion<=8&&"ie"===e.browser&&e.browserVersion<12&&(console.log("You appear to be on Windows 7 or 8 using Internet Explorer 11 or under. You also appear to be on a touchscreen device. We will assume you're actually on a desktop, since it's extremely unlikely you're on a tablet or mobile device using this specific operating system and browser."),e.type="desktop");var t=Array(70).join("-"),n="\n"+t;for(var r in e)e.hasOwnProperty(r)&&"function"!=typeof e[r]&&(n+="\n"+r+": "+e[r]);n+="\n"+t,console.log(n)},Oe._getType=function(){var e=this,t=/(android|mobile)/gi.exec(e.agentString),n=/(tablet|touch)/gi.exec(e.agentString),r=/(ipad)/gi.exec(e.agentString);e.type="desktop",t&&(e.type="mobile"),n&&(e.type="tablet"),r&&(e.type="tablet")},Oe._getBrandAndOS=function(){var e=this,t=e.agentString.match(/ip(hone|od|ad)|mac/gi);if(t){e.brand="apple",e.product=t[0].toLowerCase();var n=/(OS\s)(\X\s|)([\d\.\_]+)/gi.exec(e.agentString);return e.os=""==n[2]?"ios":"osx",void(e.osVersion=n[3].replace(/\_/g,"."))}var r=/(android)\/?\s*([0-9\.]+)/gi.exec(e.agentString);if(r)return e.brand=e.product=e.os=r[1].toLowerCase(),e._checkForSpecial("product",["pixel 2"],e.agentString.split("(")[1].split(")")[0]),void(e.osVersion=r[2]);var a=/(windows\snt\s|windows\sphone)\/?\s*([0-9\.]+)/gi.exec(e.agentString);if(a){switch(e.brand="microsoft",e.os="windows",a[2]){case"5.2":e.osVersion="xp";break;case"6.0":e.osVersion="vista";break;case"6.1":e.osVersion="7";break;case"6.2":e.osVersion="8";break;case"6.3":e.osVersion="8.1";break;case"10.0":e.osVersion="10";break;default:e.osVersion=a[2]}return e.product=a[1].toLowerCase(),void(e.product.match(/\snt/i)&&(e.product="pc"))}e.agentString.match(/(blackberry|bb10|playbook)/i)&&(e.brand=e.product=e.os="blackberry",e.osVersion=/(version)\/?\s*([0-9\.]+)/gi.exec(e.agentString)[2])},Oe._getBrowser=function(){var e=this,t=/(edge(?=\/))\/?\s*([0-9\.]+)/i.exec(e.agentString);if(t||(t=e.agentString.match(/(fban|fbav|opera|chrome|crios|safari|firefox|msie|trident(?=\/))\/?\s*([0-9\.]+)/i)),!t||t.length<3){switch(console.log("we received no browser data, so we are setting it to the default of the device"),e.os){case"ios":e.browser="safari";break;case"windows":e.browser="trident";break;default:e.browser="chrome"}return void(e.browserVersion="os-default")}switch(console.log("we received browser data"),e.browser=t[1].toLowerCase(),e.browserVersion=t[2],e.browser){case"trident":var n=/\brv:+(\d+)/g.exec(e.agentString);n&&(e.browserVersion=n[1]);case"msie":e.browser="ie";break;case"crios":e.browser="chrome";break;case"safari":var n=e.agentString.match(/\sversion\/([0-9\.]+)\s/i);n&&(e.browserVersion=n[1]);break;case"chrome":var n=e.agentString.match(/\b(OPR)\/([0-9\.]+)/i);n&&(e.browser="opera",e.browserVersion=n[2])}},Oe._checkForSpecial=function(e,t,n){for(var r,a=this,o=0;o<t.length;o++)if(r=t[o].toLowerCase(),n.match(new RegExp(r,"i"))){a[e]=r;break}};var Ee=function(){var e=this;e.identity=new Float32Array([1,0,0,0,1,0]),e.data=new Float32Array(e.identity)};Ee.prototype={clear:function(){var e=this;e.data=new Float32Array(e.identity)},rotate:function(e){var t=this,n=new Float32Array(t.identity),r=Math.cos(e).toFixed(15),a=Math.sin(e).toFixed(15);return n[0]=r,n[1]=a,n[3]=-a,n[4]=r,t.multiply(n,!1),t},scale:function(e,t){var n=this,r=new Float32Array(n.identity);return r[0]=e,r[4]=t,n.multiply(r,!1),n},skew:function(e,t){var n=this,r=new Float32Array(n.identity);return r[1]=Math.tan(e),r[3]=Math.tan(t),n.multiply(r),n},translate:function(e,t){var n=this,r=new Float32Array(n.identity);return r[2]=e||0,r[5]=t||0,n.multiply(r,!0),n},multiply:function(e,t){for(var n=this,r=new Float32Array(n.data),a=t?e:r,o=t?r:e,i=0;i<6;i++){var s=3*Math.floor(i/3),l=i%3;n.data[i]=a[s]*o[l]+a[s+1]*o[l+3]}n.data[2]+=a[2],n.data[5]+=a[5]},setFromCss:function(e){var t=e.match(/\(([^\)]+)\)/)[1].replace(/\s/g,"").split(",").map(Number);this.data=[t[0],t[1],t[4],t[2],t[3],t[5]]},getCss:function(){var e=this;return"matrix("+e.data[0]+","+e.data[1]+","+e.data[3]+","+e.data[4]+","+e.data[2]+","+e.data[5]+")"}};var Ae=function e(){o(this,e)};Ae.debug_level1=!1,Ae.debug_level2=!1,Ae.filter=void 0,Ae.debug_element=void 0,Ae.debug_css_list=void 0,Ae.init=function(){console.log("CssManager.init()"),this.generateBrowserKeyDictionary()},Ae.setDebugLevel=function(e){var t=this;switch(parseInt(e)){case 1:t.debug_level1=!0,t.debug_level2=!1;break;case 2:t.debug_level1=!0,t.debug_level2=!0;break;default:t.debug_level1=!1,t.debug_level2=!1}},Ae.setDebugFilter=function(e){var t=this;console.log("CssManager.setDebugFilter(),",e),t.filter=e,t.debug_level1=!0},Ae.ifDebug=function(e){var t=this;return t.filter?!(!t.passDebugFilter()||!t[e])||void 0:t[e]},Ae.passDebugFilter=function(){var e=this;if(e.debug_element&&e.debug_element.id.indexOf(e.filter)>-1)return!0;if(e.debug_css_list)for(var t in e.debug_css_list){if(t.indexOf(e.filter)>-1)return!0;if(String(e.debug_css_list[t]).indexOf(e.filter)>-1)return!0}return!1},Ae.generateBrowserKeyDictionary=function(){var e=this;console.log("CssManager.generateBrowserKeyDictionary()"),e.deviceKeyDict={};var t=document.createElement("div").style;for(var n in t){var r=e.getPrefix(n),a=e.standardizeKey(n);switch(Oe.browser){case"safari":"webkit"==r?e.deviceKeyDict[a]=e.prependPrefix("webkit",a):e.prependPrefix("webkit",a)in t||(e.deviceKeyDict[a]=a);break;case"firefox":var o=e.prependPrefix("Moz",a),i=e.prependPrefix("Webkit",a);a in t?e.deviceKeyDict[a]=a:"moz"==r?e.camelateKey("webkit-"+a)in t&&(e.deviceKeyDict[a]=o):"webkit"==r&&(o in t||(e.deviceKeyDict[a]=i));break;case"chrome":case"ie":default:a in t?e.deviceKeyDict[a]=a:r&&(e.deviceKeyDict[a]=e.prependPrefix(r,a))}}console.log(" KEY DICTIONARY:",e.deviceKeyDict)},Ae.apply=function(e,t){var n=this;n.debug_element=e,n.debug_css_list=t,n.ifDebug("debug_level1")&&console.log("  CssManager.apply()",e.id);var r={};for(var a in t)a.match(/^transform\(/)?r[a]=t[a]:(n.ifDebug("debug_level1")&&console.log("   "+a+": "+t[a]+";"),e.style[n.getDeviceKey(a)]=t[a]);n.applyTransforms(e,r),n.ifDebug("debug_level1")&&console.log("\n\n"),n.debug_element=null,n.debug_css_list=null},Ae.conformCssObject=function(e,t){var n=this;n.debug_element=t,n.ifDebug("debug_level1")&&console.log("CssManager.conformCssObject()",e);var r={};if(e)for(var a in e){n.ifDebug("debug_level2")&&console.log("  PARSE( key: "+a+", value: "+e[a]+" )");var o=n.conformKeyValue(a,e[a]);for(var i in o)n.ifDebug("debug_level2")&&console.log("    CONFORMED DECLARATION:",o[i]),r[o[i][0]]=o[i][1]}return n.debug_element=null,r},Ae.conformCssString=function(e,t){var n=this;n.debug_element=t,n.ifDebug("debug_level1")&&console.log(" CssManager.conformCssString()");var r={};if(e){var a=e.split(/\s*;\s*/);for(var o in a)if(a[o]){var i=a[o].split(/:(.+)?/);n.ifDebug("debug_level2")&&console.log("  PARSE( key: "+i[0]+", value: "+i[1]+" )");var s=n.conformKeyValue(i[0],i[1]);for(var l in s)n.ifDebug("debug_level2")&&console.log("    CONFORMED DECLARATION:",s[l]),r[s[l][0]]=s[l][1]}}return n.debug_element=null,r},Ae.conformCssKeyValue=function(e,t){var n=this;n.ifDebug("debug_level1")&&console.log(" CssManager.conformCssKeyValue()");var r={};return r[e]=t,n.conformCssObject(r)},Ae.applyTransforms=function(e,t){var n=this;n.ifDebug("debug_level1")&&console.log("    - CssManager.applyTransforms(), ",t);var r=new Ee,a=e.style[n.getDeviceKey("transform")],o=a.match(/matrix[^\)]+\)/);if(o&&(r.setFromCss(o[0]),n.ifDebug("debug_level2")&&console.log("       existing matrix:",r.data)),"transforms"in e)var i=e.transforms;else var i={tx:0,ty:0,rz:0,sx:1,sy:1};var s={};for(var l in t){s[l.match(/\(\s([^\s]+)/)[1]]=t[l]}if(void 0!=s.tx&&(r.data[2]=0),void 0!=s.ty&&(r.data[5]=0),void 0!=s.rz){var c=-i.rz;r.rotate(c*(Math.PI/180)),r.rotate(s.rz*(Math.PI/180)),i.rz=s.rz}if(void 0!=s.sx){var c=1/i.sx;r.scale(c,1),r.scale(s.sx,1),i.sx=s.sx}if(void 0!=s.sy){var c=1/i.sy;r.scale(1,c),r.scale(1,s.sy),i.sy=s.sy}void 0!=s.tx&&(r.translate(s.tx,0),i.tx=s.tx),void 0!=s.ty&&(r.translate(0,s.ty),i.ty=s.ty),e.transforms=i,n.ifDebug("debug_level2")&&console.log("       updated matrix:",r.data),e.style[n.getDeviceKey("transform")]=r.getCss()},Ae.conformKeyValue=function(e,t){var n=this;e=String(e).trim(),t=String(t).trim();var r=n.standardizeKey(e);return n.conformValue(r,t)},Ae.hasPrefix=function(e){var t=this;return e.search(t.matchPrefixRegex())>-1},Ae.getPrefix=function(e){var t=this,n=e.match(t.matchPrefixRegex());return n?n[1].replace(/-/g,"").toLowerCase():null},Ae.stripPrefix=function(e){var t=this,n=e.replace(t.matchPrefixRegex(),"");return n.charAt(0).toLowerCase()+n.slice(1)},Ae.getDeviceKey=function(e){var t=this;return e in t.deviceKeyDict?t.deviceKeyDict[e]:e},Ae.prependPrefix=function(e,t){return e+t.replace(/^(.)/,function(e){return e.charAt(0).toUpperCase()})},Ae.standardizeKey=function(e){var t=this;return e=t.stripPrefix(e),e=e in t.keyFormatExceptions()?t.keyFormatExceptions()[e]:t.camelateKey(e),t.ifDebug("debug_level2")&&console.log('    - result: "'+e+'"'),e},Ae.camelateKey=function(e){return e=e.replace(/-(.)/g,function(e){return e.charAt(1).toUpperCase()})},Ae.keyFormatExceptions=function(){return{x:"transform( tx )",translateX:"transform( tx )",y:"transform( ty )",translateY:"transform( ty )",rotate:"transform( rz )",rotation:"transform( rz )",scaleX:"transform( sx )",scaleY:"transform( sy )",scale:"transform( sx ),transform( sy )"}},Ae.conformValue=function(e,t){var n,r=this,a=[],o=t.match(/\s/),i=t.match(r.matchNumberRegex());if(!o&&i){r.ifDebug("debug_level2")&&console.log("   conform value as number"),n=Number(i[0]);var s=t.match(/[^0-9\.]+$/);if(s)n+=s[0];else switch(e){case"top":case"right":case"bottom":case"left":case"width":case"height":case"fontSize":case"lineHeight":case"padding":case"margin":case"marginRight":case"marginLeft":case"marginTop":case"marginBottom":case"borderRadius":case"borderWidth":case"letterSpacing":n+="px"}}else if("backgroundImage"==e)r.ifDebug("debug_level2")&&console.log("   conform value as background image"),t=t.replace(/^url\(\s*['"]*/,"").replace(/['"]*\s*\)$/,""),n='url( "'+t+'" )';else if("transform"==e){r.ifDebug("debug_level2")&&console.log('   convert "transform" functions to individual transforms');for(var l=/([a-z0-9]+)\(([^\)]+)\)/gi;params=l.exec(t);){var c=params[2].replace(/\s/g,"").split(",").map(function(e,t,n){return Number(e.match(r.matchNumberRegex())[0])});switch(params[1]){case"translate":a.push(["transform( tx )",c[0]]),a.push(["transform( ty )",c[1]]);break;case"translateX":a.push(["transform( tx )",c[0]]);break;case"translateY":a.push(["transform( ty )",c[0]]);break;case"rotate":a.push(["transform( rz )",c[0]]);break;case"scale":a.push(["transform( sx )",c[0]]),a.push(["transform( sy )",c[1]]);break;case"scaleX":a.push(["transform( sx )",c[0]]);break;case"scaleY":a.push(["transform( sy )",c[0]])}}}else r.ifDebug("debug_level2")&&console.log("   conform value as string"),n=t;if(void 0!=n){r.ifDebug("debug_level2")&&console.log('    - result: "'+n+'"');for(var u=e.split(/\,/),d=0;d<u.length;d++)a.push([u[d],n])}return a},Ae.matchNumberRegex=function(){return/^[+-]?[0-9]*\.?[0-9]+/},Ae.matchPrefixRegex=function(){return/^-*(moz-*|webkit-*|ms-*|o-)/i};for(var ke={},Le=!1,Me=f,ze=p,Fe=function(){function e(t){o(this,e);var n=this;n.elem=t,n.hasActiveChildren=!0,n.debug=!1,n.eventList=[],n._isDragEnabled=!1,n._isDragging=!1,n._give=2,n._oX=0,n._oY=0,n._p1X=0,n._p1Y=0,n._p2X=0,n._p2Y=0,n._sX=0,n._sY=0,n._vX=0,n._vY=0,n._cursor="mouse",n._start="down",n._end="up",n.init()}return e.prototype.init=function(){var e=this;e.debug&&console.log("GestureBase.init()"),e._handleTouchStart=e._handleTouchStart.bind(e),e._handleDown=e._handleDown.bind(e),e._handleDrag=e._handleDrag.bind(e),e._handleUp=e._handleUp.bind(e),e._elemAdd=e.elem.addEventListener.bind(e.elem),e._elemRemove=e.elem.removeEventListener.bind(e.elem),e._reset()},e.prototype.register=function(e,t){var n=this;n.debug&&console.log("GestureBase.register(",e,")"),n.eventList.push(e),n._checkDragEnabled(),n._elemAdd(e,t)},e.prototype.unregister=function(e,t){var n=this;n.debug&&console.log("GestureBase.unregister(",e,")");var r=n.eventList.indexOf(e);r>=0&&n.eventList.splice(r,1),n._checkDragEnabled(),n._elemRemove(e,t)},e.prototype._reset=function(){var e=this;e._cursor="mouse",e._start="down",e._end="up",e.elem.addEventListener("touchstart",e._handleTouchStart),"ios"!=Oe.os&&e.elem.addEventListener("mousedown",e._handleDown)},e.prototype._checkDragEnabled=function(){var e=this,t=e.eventList.join("").indexOf("onDrag");e._isDragEnabled=t>-1},e.prototype._getEventScope=function(e){return e.changedTouches?e.changedTouches[0]:e},e.prototype._add=function(e,t){window.addEventListener(this._cursor+e,t)},e.prototype._remove=function(e,t){window.removeEventListener(this._cursor+e,t)},e.prototype._handleDown=function(e){var t=this;t.debug&&console.log("GestureBase._handleDown()"),g(),t.elem.removeEventListener("touchstart",t._handleTouchStart),"ios"!=Oe.os&&t.elem.removeEventListener("mousedown",t._handleDown),t._isDragging=!1,t._add(t._end,t._handleUp),t._add("move",t._handleDrag);var n=t._getEventScope(e),r=n.pageX,a=n.pageY,o=t.elem.getBoundingClientRect(),i=r-o.left,s=a-o.top,l=t.elem.x||h(t.elem,"x"),c=t.elem.y||h(t.elem,"y"),u=o.left-l,d=o.top-c;t._oX=u+i,t._oY=d+s;var f=r-t._oX,p=a-t._oY;t._sX=t._p1X=t._p2X=r,t._sY=t._p1Y=t._p2Y=a,function(e){if(!ze(e)){var n=new Me(e,r,a,i,s,f,p);t.debug&&console.log(" -> dispatch",e),t.elem.dispatchEvent(n)}}("onPress")},e.prototype._handleUp=function(e,t){function n(e){if(!ze(e)){var t=new Me(e,o,i,l,c,u,d,0,0,r._vX,r._vY);r.debug&&console.log(" -> dispatch",e),r.elem.dispatchEvent(t)}}var r=this;r.debug&&console.log("GestureBase._handleUp()"),r._remove(r._end,r._handleUp),r._remove("move",r._handleDrag);var a=r._getEventScope(e),o=a.pageX,i=a.pageY,s=r.elem.getBoundingClientRect(),l=o-s.left,c=i-s.top,u=o-r._oX,d=i-r._oY;!0!==t&&n("onRelease");var f=s.top+window.pageYOffset,p=f+s.height,g=s.left+window.pageXOffset,m=g+s.width;r._isDragging?(r._isDragEnabled&&r._dragEndOrSwipe("onDragStop"),console.log("  -> No CLICK Fired, was dragging")):o>g&&o<m&&i>f&&i<p&&n("onSelect"),r._isDragging&&r._dragEndOrSwipe("onSwipe"),r._reset(),e.preventDefault(),v()},e.prototype._handleTouchStart=function(e){var t=this;t.debug&&console.log("GestureBase._handleTouchStart()"),t._cursor="touch",t._start="start",t._end="end",t._handleDown(e)},e.prototype._handleDrag=function(e){function t(e){if(!ze(e)){var t=new Me(e,a,o,p,g,u,d,n._p1X-n._sX,n._p1Y-n._sY,n._vX,n._vY);n.debug&&console.log(" -> dispatch",e),n.elem.dispatchEvent(t)}}var n=this;n.debug&&console.log("GestureBase._handleDrag()");var r=n._getEventScope(e),a=r.pageX,o=r.pageY,i=a-n._p1X,s=a-n._p2X;n._vX=(s-i)/2+i;var l=o-n._p1Y,c=o-n._p2Y;n._vY=(c-l)/2+l;var u=a-n._oX,d=o-n._oY,f=n.elem.getBoundingClientRect(),p=a-f.left,g=o-f.top;n._isDragging?n._isDragEnabled&&t("onDrag"):(Math.abs(n._sX-a)>n._give||Math.abs(n._sY-o)>n._give)&&(n._isDragging=!0,n._isDragEnabled&&t("onDragStart")),n._p2X=n._p1X,n._p1X=a,n._p2Y=n._p1Y,n._p1Y=o},e.prototype._dragEndOrSwipe=function(e){var t=this;if(t.debug&&console.log("GestureBase._dragEndOrSwipe()",e),!ze(name)){var n=t.elem.getBoundingClientRect(),r=new Me(e,t._p1X,t._p1Y,t._p1X-n.left,t._p1Y-n.top,t._p1X-t._oX,t._p1Y-t._oY,t._p2X-t._sX,t._p2Y-t._sY,t._vX,t._vY);t.debug&&console.log(" -> dispatch",e),t.elem.dispatchEvent(r)}},e}(),Pe=(new function(){function e(e){for(var n=null,r=0;r<s.length;r++)if(s[r].elem===e){n=s[r];break}return n||(n=t(e)),n}function t(e){var t=new Fe(e);return s.push(t),t}function n(t,n){var r=e(t);if(r.hasActiveChildren!=n){r.hasActiveChildren=n;for(var a=r.elem.getElementsByTagName("*"),o=0;o<a.length;o++)a[o].parentNode==t&&(n?i.enable(a[o]):i.disable(a[o]))}}function r(e,t,n,a){e.style.visibility="hidden",a.push(e);for(var o=document.elementFromPoint(t,n),i=0;i<l.length;i++)if(l[i].elem==o)return r(o,t,n,a);return o}function a(e){for(var t=[],n=r(e.target,e.clientX,e.clientY,t),a=0;a<t.length;a++)t[a].style.visibility="visible";return t=[],e.stopImmediatePropagation(),n}function o(e){var t=a(e),n=document.createEvent("HTMLEvents");n.initEvent(e.type,!0,!1),t.dispatchEvent(n)}var i=this,s=[],l=[],c=void 0!=document.createEventObject;i._kills={},i.add=i.addEventListener=function(t,n,r){e(t).register(n,r),m(t,"cursor","pointer"),m(t,"pointer-events","auto")},i.remove=i.removeEventListener=function(t,n,r){var a=e(t);a&&(a.unregister(n,r),a.eventList.length<=0&&m(t,"cursor","auto"))},i.disable=function(t){var n=e(t);l.push(n),c?(n.register(GestureEvent.CLICK,o),m(t,"cursor","auto")):m(t,"pointer-events","none")},i.disableChildren=function(e){n(e,!1)},i.enable=function(t){for(var n=e(t),r=0;r<l.length;r++)if(n==l[r]){c?n.unregister(GestureEvent.CLICK,o):(m(t,"pointer-events","auto"),m(t,"cursor","pointer"));break}},i.enableChildren=function(e){n(e,!0)}},/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)),Re=["webkit","moz"],Ne=0;!window.requestAnimationFrame&&Ne<Re.length;Ne++)window.requestAnimationFrame=window[Re[Ne]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[Re[Ne]+"CancelAnimationFrame"]||window[Re[Ne]+"CancelRequestAnimationFrame"];window.requestAnimationFrame&&window.cancelAnimationFrame&&!Pe||(console.log("PolyFill -> FrameRate"),window.requestAnimationFrame=function(e){return setTimeout(e,17)},window.cancelAnimationFrame=clearTimeout);for(var Ie=[1,1,2,2,4,4,7,9,14,18,27,37,54,74],Ye=[9],qe=0;qe<Ie.length;qe++){for(var je=[],Ue=0;Ue<Ie[qe];Ue++)je.push(qe+11);Ye=Ye.concat(je)}var Ke={english:{MONTHS_FULL:["January","February","March","April","May","June","July","August","September","October","November","December"],MONTHS_ABRV:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],MONTHS_EXCP:["","","","","","","","","sept","","",""],WEEKDAYS_FULL:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],WEEKDAYS_ABRV:["sun","mon","tue","wed","thu","fri","sat"],WEEKDAYS_EXCP1:["","","tues","wednes","thur","",""],WEEKDAYS_EXCP2:["","","","","thurs","",""],ST:"st",ND:"nd",RD:"rd",TH:"th",OF:"of",TOMORROW:"Tomorrow",TODAY:"Today",TONIGHT:"Tonight",NOW:"Live Now",PAST:"Past"}},Xe="english",Be={};S(Ke);var Ve=Object.freeze({setLanguage:D,addLanguage:S,getLabels:x,getNumericSuffixFor:C,format:O}),He={"US/Eastern":"et,edt,est|-4,-5","US/Central":"ct,cdt,cst|-5,-6","US/Mountain":"mt,mdt,mst|-6,-7","US/Pacific":"pt,pdt,pst|-7,-8","US/Alaska":"akt,akdt,akst|-8,-9","US/Arizona":"az|-7","US/Hawaii":"hast|-10","Australia/Brisbane":"aest|10","Australia/Sydney":"aedt,aest|10,11","America/Mexico_City":"mx|-5,-6","America/Bogota":"cot|-5","America/Argentina/Buenos_Aires":"art|-3"},We=2018,Ge={US:"3,11|11,10,8,14,13,12,10,9|4,3,1,7,6,5,3,2",Australia:"4,10|1,7,5,4,3,2,7,6|7,6,4,3,2,1,6,5",Mexico_City:"4,10|1,7,5,4,3,2,7,6|28,27,25,31,30,29,27,26"},Je=void 0,$e=[0,0,0],Qe=Object.freeze({getTzDiff:E,setLocal:A,get:k,toISO:L}),Ze=void 0,et=!1,tt=Object.freeze({init:P,getNow:R}),nt={SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5},rt=Object.freeze({getTimeDifference:N,adjust:I,isPast:Y}),at="https://json.ff0000-cdn.net/",ot="https://preview.ff0000-cdn.net/preview/",it="https://qa.ff0000-cdn.net/",st="https://qa.velvet.tech/preview/",lt="velvetInit",ct="velvetFail",ut="velvetStatic",dt=Object.freeze({INIT:lt,FAIL:ct,STATIC:ut}),ft={},pt=void 0,gt=void 0,vt=void 0,mt={},ht=[],yt=Object.freeze({addSchedule:Q,addCustomData:Z,dispatchData:ee,adComplete:te,adStart:ne}),bt=void 0,_t=[],wt=void 0,Tt=void 0,Dt=void 0,St=void 0,xt=B,Ct=V,Ot=U,Et=K,At=dt,kt=yt,Lt=ae,Mt=Object.freeze({init:xt,isPreviewLocation:Ct,addEventListener:Ot,removeEventListener:Et,events:At,capture:kt,get:Lt});window.Velvet=Mt,window.DateFormatter=Ve,window.DateManager=tt,window.DateSchedule=j,window.DateUtils=rt,window.Timezone=Qe,window.TzDate=q,window.DataLoader=De}]);